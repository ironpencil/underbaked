using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[CreateAssetMenu(fileName = "DestroyVulnerabilityController", menuName = "VulnerabilityControllers/Destroy")]
public class DestroyVC : VulnerabilityController
{
    public override void EndExposure(GameObject target, HazardType hazardType)
    {
        // Ignored, they should be destroyed
    }

    public override void EndExposure()
    {
        // Ignored, they should be destroyed
    }

    public override void Expose(GameObject target, HazardType hazardType)
    {
        if (vulnerabilities.Contains(hazardType)) {
			Carryable carryable = target.GetComponent<Carryable>();
			if (carryable != null) {
				Carrier carrier = carryable.carrier;
				if (carrier != null) {
					carrier.Drop();
				}
			}
			Destroy(target);
		}
    }
}
